{"openapi":"3.1.0","info":{"title":"API Publications","description":"API pour g√©rer les livres, magazines et publications","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"Magazine Management","description":"APIs for managing magazines"},{"name":"Publication Management","description":"API for managing publications in the library system"},{"name":"Author Management","description":"APIs for managing authors"},{"name":"Book Management","description":"API for managing books in the library system"}],"paths":{"/api/v1/magazines/{id}":{"get":{"tags":["Magazine Management"],"summary":"Get magazine by ID","description":"Retrieves a magazine by its unique identifier","operationId":"getMagazineById","parameters":[{"name":"id","in":"path","description":"Magazine ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MagazineResponseDto"}}}}}},"put":{"tags":["Magazine Management"],"summary":"Update an existing magazine","description":"Updates an existing magazine with the provided details","operationId":"updateMagazine","parameters":[{"name":"id","in":"path","description":"Magazine ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MagazineRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MagazineResponseDto"}}}}}},"delete":{"tags":["Magazine Management"],"summary":"Delete magazine","description":"Deletes a magazine by its unique identifier","operationId":"deleteMagazine","parameters":[{"name":"id","in":"path","description":"Magazine ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/books/{id}":{"get":{"tags":["Book Management"],"summary":"Get book by ID","description":"Retrieves a book by its ID","operationId":"getBookById","parameters":[{"name":"id","in":"path","description":"Book ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/BookResponseDto"}}}}}},"put":{"tags":["Book Management"],"summary":"Update a book","description":"Updates an existing book by ID","operationId":"updateBook","parameters":[{"name":"id","in":"path","description":"Book ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookUpdateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBookResponseDto"}}}}}},"delete":{"tags":["Book Management"],"summary":"Delete a book","description":"Deletes a book by its ID","operationId":"deleteBook","parameters":[{"name":"id","in":"path","description":"Book ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/magazines":{"get":{"tags":["Magazine Management"],"summary":"Get all magazines","description":"Retrieves all magazines with pagination and sorting support","operationId":"getAllMagazines","parameters":[{"name":"page","in":"query","description":"Page number (0-based)","required":false,"schema":{"type":"integer","format":"int32","default":0},"example":0},{"name":"size","in":"query","description":"Number of items per page","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10},{"name":"sortBy","in":"query","description":"Sort by field","required":false,"schema":{"type":"string","default":"title"},"example":"title"},{"name":"sortDirection","in":"query","description":"Sort direction (ASC/DESC)","required":false,"schema":{"type":"string","default":"ASC","enum":["ASC","DESC"]},"example":"ASC"}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PageMagazineSummaryResponseDto"}}}}}},"post":{"tags":["Magazine Management"],"summary":"Create a new magazine","description":"Creates a new magazine with the provided details and associates it with existing authors","operationId":"createMagazine","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MagazineRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MagazineResponseDto"}}}}}}},"/api/v1/books":{"get":{"tags":["Book Management"],"summary":"Get all books","description":"Retrieves all books with pagination","operationId":"getAllBooks","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoPageBookSummaryResponseDto"}}}}}},"post":{"tags":["Book Management"],"summary":"Create a new book","description":"Creates a new book in the library system","operationId":"createBook","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BookCreateRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBookResponseDto"}}}}}}},"/api/v1/authors":{"get":{"tags":["Author Management"],"summary":"Get all authors","description":"Retrieves all authors without pagination","operationId":"getAllAuthors","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoListAuthorResponseDto"}}}}}},"post":{"tags":["Author Management"],"summary":"Create a new author","description":"Creates a new author with the provided information","operationId":"createAuthor","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthorRequestDto"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoAuthorResponseDto"}}}}}}},"/api/v1/publications":{"get":{"tags":["Publication Management"],"summary":"Get all publications","description":"Retrieves all publications with pagination","operationId":"getAllPublications","parameters":[{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePublicationSummaryResponseDto"}}}}}}},"/api/v1/publications/{id}":{"get":{"tags":["Publication Management"],"summary":"Get publication by ID","description":"Retrieves a publication by its ID","operationId":"getPublicationById","parameters":[{"name":"id","in":"path","description":"Publication ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PublicationResponseDto"}}}}}},"delete":{"tags":["Publication Management"],"summary":"Delete a publication","description":"Deletes a publication by its ID","operationId":"deletePublication","parameters":[{"name":"id","in":"path","description":"Publication ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/publications/{id}/exists":{"get":{"tags":["Publication Management"],"summary":"Check if publication exists","description":"Checks if a publication exists by its ID","operationId":"existsById","parameters":[{"name":"id","in":"path","description":"Publication ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/publications/title/{title}/exists":{"get":{"tags":["Publication Management"],"summary":"Check if publication exists by title","description":"Checks if a publication exists by its title","operationId":"existsByTitle","parameters":[{"name":"title","in":"path","description":"Publication title","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/publications/search/title":{"get":{"tags":["Publication Management"],"summary":"Search publications by title","description":"Searches publications by title (case-insensitive)","operationId":"searchPublicationsByTitle","parameters":[{"name":"title","in":"query","description":"Title to search for","required":true,"schema":{"type":"string"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PagePublicationSummaryResponseDto"}}}}}}},"/api/v1/publications/grouped":{"get":{"tags":["Publication Management"],"summary":"Get all publications","description":"Retrieves all publications grouped by book or magazine","operationId":"getAllPublicationsGroupedByType","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GroupedPublicationsResponse"}}}}}}},"/api/v1/books/{id}/exists":{"get":{"tags":["Book Management"],"summary":"Check if book exists","description":"Checks if a book exists by its ID","operationId":"existsById_1","parameters":[{"name":"id","in":"path","description":"Book ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBoolean"}}}}}}},"/api/v1/books/isbn/{isbn}":{"get":{"tags":["Book Management"],"summary":"Get book by ISBN","description":"Retrieves a book by its ISBN","operationId":"getBookByIsbn","parameters":[{"name":"isbn","in":"path","description":"Book ISBN","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoBookResponseDto"}}}}}}},"/api/v1/books/author/{authorId}":{"get":{"tags":["Book Management"],"summary":"Get books by author","description":"Retrieves books by author ID","operationId":"getBooksByAuthor","parameters":[{"name":"authorId","in":"path","description":"Author ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"pageable","in":"query","required":true,"schema":{"$ref":"#/components/schemas/Pageable"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoPageBookSummaryResponseDto"}}}}}}},"/api/v1/authors/{id}":{"get":{"tags":["Author Management"],"summary":"Get author by ID","description":"Retrieves an author by their unique identifier","operationId":"getAuthorById","parameters":[{"name":"id","in":"path","description":"Author ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseDtoAuthorResponseDto"}}}}}}}},"components":{"schemas":{"MagazineRequestDto":{"type":"object","description":"Request object for creating or updating a magazine","properties":{"title":{"type":"string","description":"Magazine title","example":"National Geographic","maxLength":200,"minLength":2},"issueNumber":{"type":"integer","format":"int32","description":"Magazine issue number","example":142,"maximum":99999,"minimum":1},"authorIds":{"type":"array","description":"List of author IDs","example":[1,2,3],"items":{"type":"integer","format":"int64","minimum":1},"minItems":1},"publicationDate":{"type":"string","format":"date","description":"Publication date","example":"2025-01-01"}},"required":["authorIds","issueNumber","publicationDate","title"]},"AuthorSummaryDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"nationality":{"type":"string"},"birthDate":{"type":"string","format":"date"}}},"MagazineResponseDto":{"type":"object","description":"Response object containing complete magazine information","properties":{"id":{"type":"integer","format":"int64","description":"Publication ID","example":1},"title":{"type":"string","description":"Magazine title","example":"National Geographic"},"publicationDate":{"type":"string","format":"date","description":"Publication date","example":"2024-01-15"},"issueNumber":{"type":"integer","format":"int32","description":"Magazine issue number","example":142},"authors":{"type":"array","description":"List of authors","items":{"$ref":"#/components/schemas/AuthorSummaryDto"}}}},"BookUpdateRequestDto":{"type":"object","properties":{"isbn":{"type":"string","pattern":"^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$"},"authorId":{"type":"integer","format":"int64"}}},"ApiResponseDtoBookResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/BookResponseDto"},"timestamp":{"type":"string","format":"date-time"}}},"BookResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64","description":"Publication ID","example":1},"title":{"type":"string","description":"Title of the publication","example":"Spring Boot in Action"},"publicationDate":{"type":"string","format":"date","description":"Publication date","example":"2024-01-15"},"isbn":{"type":"string"},"author":{"$ref":"#/components/schemas/AuthorSummaryDto"}}},"BookCreateRequestDto":{"type":"object","properties":{"title":{"type":"string","maxLength":255,"minLength":0},"publicationDate":{"type":"string","format":"date"},"isbn":{"type":"string","maxLength":20,"minLength":10},"authorId":{"type":"integer","format":"int64"}},"required":["authorId","isbn","publicationDate","title"]},"AuthorRequestDto":{"type":"object","properties":{"name":{"type":"string","maxLength":100,"minLength":2},"birthDate":{"type":"string","format":"date"},"nationality":{"type":"string","maxLength":50,"minLength":0}},"required":["name"]},"ApiResponseDtoAuthorResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/AuthorResponseDto"},"timestamp":{"type":"string","format":"date-time"}}},"AuthorResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"birthDate":{"type":"string","format":"date"},"nationality":{"type":"string"},"books":{"type":"array","items":{"$ref":"#/components/schemas/BookSummaryResponseDto"}},"magazines":{"type":"array","items":{"$ref":"#/components/schemas/MagazineSummaryResponseDto"}}}},"BookSummaryResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"publicationDate":{"type":"string","format":"date"},"type":{"type":"string","enum":["BOOK","MAGAZINE","UNKNOWN"]},"isbn":{"type":"string"},"authorName":{"type":"string"}}},"MagazineSummaryResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"publicationDate":{"type":"string","format":"date"},"type":{"type":"string","enum":["BOOK","MAGAZINE","UNKNOWN"]},"issueNumber":{"type":"integer","format":"int32"}}},"Pageable":{"type":"object","properties":{"page":{"type":"integer","format":"int32","minimum":0},"size":{"type":"integer","format":"int32","minimum":1},"sort":{"type":"array","items":{"type":"string"}}}},"PagePublicationSummaryResponseDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/PublicationSummaryResponseDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"last":{"type":"boolean"},"first":{"type":"boolean"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"},"paged":{"type":"boolean"},"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"unpaged":{"type":"boolean"}}},"PublicationSummaryResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"publicationDate":{"type":"string","format":"date"},"type":{"type":"string","enum":["BOOK","MAGAZINE","UNKNOWN"]}}},"SortObject":{"type":"object","properties":{"empty":{"type":"boolean"},"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"}}},"PublicationResponseDto":{"type":"object","description":"Response object containing publication details","properties":{"id":{"type":"integer","format":"int64","description":"Publication ID","example":1},"title":{"type":"string","description":"Title of the publication","example":"Spring Boot in Action"},"publicationDate":{"type":"string","format":"date","description":"Publication date","example":"2024-01-15"}}},"GroupedPublicationsResponse":{"type":"object","properties":{"books":{"type":"array","items":{"$ref":"#/components/schemas/BookSummaryResponseDto"}},"magazines":{"type":"array","items":{"$ref":"#/components/schemas/MagazineSummaryResponseDto"}}}},"PageMagazineSummaryResponseDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/MagazineSummaryResponseDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"last":{"type":"boolean"},"first":{"type":"boolean"},"empty":{"type":"boolean"}}},"ApiResponseDtoPageBookSummaryResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageBookSummaryResponseDto"},"timestamp":{"type":"string","format":"date-time"}}},"PageBookSummaryResponseDto":{"type":"object","properties":{"totalElements":{"type":"integer","format":"int64"},"totalPages":{"type":"integer","format":"int32"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/BookSummaryResponseDto"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"numberOfElements":{"type":"integer","format":"int32"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"last":{"type":"boolean"},"first":{"type":"boolean"},"empty":{"type":"boolean"}}},"ApiResponseDtoBoolean":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"boolean"},"timestamp":{"type":"string","format":"date-time"}}},"ApiResponseDtoListAuthorResponseDto":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/AuthorResponseDto"}},"timestamp":{"type":"string","format":"date-time"}}}}}}