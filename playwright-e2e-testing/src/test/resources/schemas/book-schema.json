{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Book Schema",
  "description": "Schema for validating Book objects in API responses",
  "required": ["id", "title", "publicationDate", "isbn", "author"],
  "properties": {
    "id": {
      "type": "integer",
      "format": "int64",
      "description": "Unique identifier for the book",
      "minimum": 1
    },
    "title": {
      "type": "string",
      "description": "Title of the book",
      "minLength": 1,
      "maxLength": 255
    },
    "publicationDate": {
      "type": "string",
      "format": "date",
      "description": "Publication date in YYYY-MM-DD format",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
    },
    "isbn": {
      "type": "string",
      "description": "ISBN of the book",
      "minLength": 10,
      "maxLength": 17,
      "pattern": "^(?:ISBN(?:-1[03])?:? )?(?=[0-9X]{10}$|(?=(?:[0-9]+[- ]){3})[- 0-9X]{13}$|97[89][0-9]{10}$|(?=(?:[0-9]+[- ]){4})[- 0-9]{17}$)(?:97[89][- ]?)?[0-9]{1,5}[- ]?[0-9]+[- ]?[0-9]+[- ]?[0-9X]$"
    },
    "author": {
      "type": "object",
      "description": "Author information",
      "required": ["id", "name", "nationality", "birthDate"],
      "properties": {
        "id": {
          "type": "integer",
          "format": "int64",
          "description": "Unique identifier for the author",
          "minimum": 1
        },
        "name": {
          "type": "string",
          "description": "Full name of the author",
          "minLength": 1,
          "maxLength": 255
        },
        "nationality": {
          "type": ["string", "null"],
          "description": "Nationality of the author"
        },
        "birthDate": {
          "type": ["string", "null"],
          "format": "date",
          "description": "Birth date of the author",
          "pattern": "^\\d{4}-\\d{2}-\\d{2}$"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}